{"version":3,"file":"dev.js","sources":["../src/utils/constants.ts","../src/utils/searchIndex.ts","../src/index.ts"],"sourcesContent":[null,null,null],"names":["icons","Quill","import","defaultMenuItems","name","alias","header","title","handler","range","this","getSelection","insertEmbed","index","sources","USER","SearchIndex","Map","items","SCORE_THRESHOLD","constructor","menuItems","buildIndex","item","addToIndex","toLowerCase","text","addTermToIndex","i","length","j","Math","min","slice","term","has","set","Set","get","add","getQuickSimilarity","str1","str2","freq","char","common","count","search","query","scores","seen","exactMatches","allTexts","map","a","maxScore","includes","max","maxPartialScore","entries","filter","_","score","sort","b","QuillQuickInsert","quill","options","menuSorter","resolveOptions","createMenuItemsSorter","on","events","EDITOR_CHANGE","line","offset","getLine","getText","match","startsWith","console","log","Object","assign","searchIndex","searchText"],"mappings":"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"}