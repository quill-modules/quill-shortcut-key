{"version":3,"file":"dev.js","sources":["../src/utils/bem.ts","../src/utils/components/menu.ts","../src/utils/constants.ts","../src/utils/searchIndex.ts","../src/index.ts"],"sourcesContent":[null,null,null,null,null],"names":["createBEM","n","b","prefix","be","e","bm","m","bem","ns","s","bs","cv","v","is","createMenu","data","wrapper","document","createElement","classList","add","index","item","entries","type","classes","itemWrapper","icon","text","content","children","onHover","onClick","appendChild","iconEl","innerHTML","textEl","textContent","length","arrowEl","subMenu","timer","removeSubMenu","remove","el","addEventListener","clearTimeout","undefined","removeEventListener","rect","getBoundingClientRect","Object","assign","style","position","width","top","left","right","body","contains","requestAnimationFrame","subRect","window","innerWidth","bottom","innerHeight","height","setTimeout","once","icons","Quill","import","header","console","log","title","h1","h2","h3","h4","h5","h6","blockquote","defaultMenuItems","Array","fill","map","_","i","name","alias","handler","range","this","getSelection","formatLine","sources","USER","descriptions","SearchIndex","Map","items","SCORE_THRESHOLD","constructor","menuItems","buildIndex","addToIndex","toLowerCase","addTermToIndex","j","Math","min","slice","term","has","set","Set","get","getQuickSimilarity","str1","str2","freq","char","common","count","search","query","scores","seen","exactMatches","allTexts","a","maxScore","includes","max","maxPartialScore","filter","score","sort","QuillQuickInsert","quill","options","menuSorter","menuContainer","resolveOptions","createMenuItemsSorter","on","events","EDITOR_CHANGE","line","offset","getLine","getText","matchString","match","startsWith","matchItems","generateMenuList","destroyMenuList","searchIndex","searchText","relativeLine","itemContent","iconWrap","itemContentMain","itemContentTitle","titleText","itemContentHint","itemContentDescriptions","domNode","call","lineRect"],"mappings":"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"}